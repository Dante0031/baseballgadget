var app=angular.module("myApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/login.html",controller:"MainController"}).when("/index",{templateUrl:"views/index.html",controller:"signupCtrl"}).when("/gametime",{templateUrl:"views/gametime.html",controller:"GameTime"}).when("/createplayer",{templateUrl:"views/createplayer.html",controller:"CreatePlayer"}).when("/stats",{templateUrl:"views/stats.html",controller:"statsController"}),b.html5Mode(!0)}]),app.controller("signupCtrl",["$scope","$http","$location",function(a,b,c){a.username="",a.password="",a.firstname="",a.lastname="",a.email="",a.signupSubmit=function(){b.post("/newEntry",{username:a.username,password:a.password,firstname:a.firstname,lastname:a.lastname,email:a.email}).then(function(a){200===a.status?console.log("Registered successfully"):console.log("ERROR")})}}]),app.controller("MainController",["$scope","$http","$location","pitchService",function(a,b,c,d){a.showLogIn=!0,a.showMainPage=!1,a.username="",a.password="",a.loginSubmit=function(){b.post("/logIn",{username:a.username,password:a.password}).then(function(b){200===b.status?(console.log("Did we hit the got response?"),a.showLogIn=!1,a.showMainPage=!0):console.log("ERROR")})},a.changeColor=function(a){return ballColor=a,console.log(ballColor),ballColor},a.pitchResult=function(a){return ballIcon=a,ballIcon}}]),app.controller("GameTime",["$scope","$http","pitchService",function(a,b,c){var d={};a.fireClickEvent=function(a){g(e,a);var b=d.x,c=d.y;f(e,b,c)};var e=document.getElementById("myCanvas"),f=function(a,b,c){var e=a.getContext("2d");if(a.getContext){var f=16;e.clearRect(0,0,a.width,a.height),e.beginPath(),e.fillStyle=ballColor,console.log(ballColor),e.arc(d.x,d.y,f/2,0,2*Math.PI),e.fill(),e=a.getContext("2d"),e.font="8pt Calibri",e.fillStyle="black",e.textAlign="center",e.fillText(ballIcon,d.x,d.y+4)}},g=function(a,b){var c=a.getBoundingClientRect();d.x=b.clientX-c.left,d.y=b.clientY-c.top}}]),app.controller("CreatePlayer",["$scope","$http",function(a,b){a.player="",a.submitPlayer=function(){console.log("LOL")}}]),app.controller("statsController",["$scope","$http",function(a,b){}]),app.factory("pitchService",["$http",function(a){var b="",c={pitcher:"",hit:"",out:""},d={pitch_type:[],pitch_result:[]},e=function(){a.get("/index").then(function(a){f.pitchInfo=a.data})},f={};return{batter:b,atBat:c,pitches:d,getPitchInfo:e}}]);